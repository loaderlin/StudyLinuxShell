## ifconfig

ifconfig(interfaces config) 获取网络接口配置信息，还可以修改这些配置

> lo 是表示主机的回坏地址，这个一般是用来测试一个网络程序，但又不想让局域网或外网的用户能够查看，只能在此台主机上运行和查看所用的网络接口。比如把 HTTPD服务器的指定到回坏地址，在浏览器输入 127.0.0.1 就能看到你所架WEB网站了。但只是您能看得到，局域网的其它主机或用户无从知道。

启动/关闭指定网卡
```sh
ifconfig eth0 up
ifconfig eth0 down
```

为网卡配置和删除IPv6地址
```sh
ifconfig eth0 add fe80::f816:3eff:fe27:b8f8
ifconfig eth0 del fe80::f816:3eff:fe27:b8f8
```

启动/关闭ARP协议
```sh
ifconfig eth0 arp
ifconfig eth0 -arp
```

设置最大传输单元
```sh
ifconfig eth0 mtu 1500
```

**ssh登陆linux服务器操作要小心，关闭了就不能开启了，除非你有多个网卡。**

### 使用ifconfig 修改MAC地址

```sh
ifconfig eth0 hw ether 00:AA:BB:CC:DD:EE
```

配置IP地址
```sh
ifconfig eth0 8.8.8.8 
ifconfig eth0 8.8.8.8 netmask 255.255.255.0
ifconfig eth0 8.8.8.8 netmask 255.255.255.0 broadcast 192.168.120.255
```

> Window下 命令行是getmac 或者 ipconfig/all

## route 

用于显示和操作IP路由表(show / manipulate the IP routing table)

- -n 不解析名字

```sh
route <==> route -n 
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         192.168.0.1     0.0.0.0         UG    0      0        0 eth0
192.168.0.0     0.0.0.0         255.255.240.0   U     0      0        0 eth0
```

> route -n (-n 表示不解析名字, 列出速度会比route块)

Flags标志说明:

- U Up表示此路由当前为启动状态
- H Host 表示此网关为一主机
- G GateWay 表示此网关为一路由器
- R Reinstate Route 使用动态路由重新初始化的路由
- D Dynamically 此路由是动态性写入
- M Modified 此路由是由路由守护程序或 导向动态修改
- ! 表示此路由当前为关闭状态

```sh
添加网关/设置网关
route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0
屏蔽一条路由
route add -net 224.0.0.0 netmask 240.0.0.0 reject


删除路由记录
route del -net 224.0.0.0 netmask 240.0.0.0
route del -net 224.0.0.0 netmask 240.0.0.0 reject
删除/添加设置默认网关
route del default gw 192.168.120.240
route add default gw 192.168.120.240
```

## ping

它通过发送ICMP Echo_Request数据包到网络主机(send ICMP Echo_Request to network hosts),并显示响应情况，这样我们就可以根据它输出的信息来确定目标主机是否可访问。

> 有些服务器为了防止通过ping探测到，通过防火墙设置禁止ping或者在内核参数中禁止ping，这样就不能通过ping确定该主机是否处于开启状态。

- -c 数目: 在发送指定数目的包后停止。
- -i 秒数: 设定间隔几秒送一个网络封包给一台机器，预设值是一秒送一次
- -s 字节数: 指定发送的数据字节数，预设值是56，加上8字节的ICMP头，一共是64ICMP数据字节
- -t 存活数值: 设置存活数值TTL的大小

```sh
ping 指定次数 
ping -c 10 flycode.me

ping 时间间隔和次数限制
ping -c 10 -i 0.5 flycode.me
```

## traceroute